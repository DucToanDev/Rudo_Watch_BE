[09-Dec-2025 19:32:37 UTC] === REQUEST DEBUG ===
[09-Dec-2025 19:32:37 UTC] REQUEST_URI: /backend/api/v1/forgot-password/send-code
[09-Dec-2025 19:32:37 UTC] REQUEST_METHOD: POST
[09-Dec-2025 19:32:37 UTC] QUERY_STRING: url=api/v1/forgot-password/send-code
[09-Dec-2025 19:32:37 UTC] GET url param: api/v1/forgot-password/send-code
[09-Dec-2025 19:32:37 UTC] URI Segments: ["api","v1","forgot-password","send-code"]
[09-Dec-2025 19:32:37 UTC] Router constructor - URI segments: ["api","v1","forgot-password","send-code"]
[09-Dec-2025 19:32:37 UTC] Router parsed - version: v1, resource: forgot-password, id: send-code, method: POST
[09-Dec-2025 19:32:37 UTC] Router::handleSpecialRoute - method: POST, resource: forgot-password, id: send-code
[09-Dec-2025 19:32:37 UTC] Checking auth route: POST forgot-password
[09-Dec-2025 19:32:37 UTC] Checking auth route with action: POST forgot-password/send-code
[09-Dec-2025 19:32:37 UTC] Found route: POST forgot-password/send-code
[09-Dec-2025 19:32:40 UTC] Router::execute - controller: ForgotPasswordController, action: sendCode
[09-Dec-2025 19:32:40 UTC] Router::execute - raw input: {
    "email": "phanbinh150504@gmail.com"
}
[09-Dec-2025 19:32:40 UTC] Router::execute - decoded data: {"email":"phanbinh150504@gmail.com"}
[09-Dec-2025 19:41:05 UTC] === REQUEST DEBUG ===
[09-Dec-2025 19:41:05 UTC] REQUEST_URI: /backend/api/v1/forgot-password/send-code
[09-Dec-2025 19:41:05 UTC] REQUEST_METHOD: POST
[09-Dec-2025 19:41:05 UTC] QUERY_STRING: url=api/v1/forgot-password/send-code
[09-Dec-2025 19:41:05 UTC] GET url param: api/v1/forgot-password/send-code
[09-Dec-2025 19:41:05 UTC] URI Segments: ["api","v1","forgot-password","send-code"]
[09-Dec-2025 19:41:05 UTC] Router constructor - URI segments: ["api","v1","forgot-password","send-code"]
[09-Dec-2025 19:41:05 UTC] Router parsed - version: v1, resource: forgot-password, id: send-code, method: POST
[09-Dec-2025 19:41:05 UTC] Router::handleSpecialRoute - method: POST, resource: forgot-password, id: send-code
[09-Dec-2025 19:41:05 UTC] Checking auth route: POST forgot-password
[09-Dec-2025 19:41:05 UTC] Checking auth route with action: POST forgot-password/send-code
[09-Dec-2025 19:41:05 UTC] Found route: POST forgot-password/send-code
[09-Dec-2025 19:41:05 UTC] ForgotPasswordController::__construct - initializing
[09-Dec-2025 19:41:06 UTC] ForgotPasswordController::__construct - UserModel created
[09-Dec-2025 19:41:07 UTC] ForgotPasswordController::__construct - PasswordResetModel created
[09-Dec-2025 19:41:07 UTC] ForgotPasswordController::__construct - Response created
[09-Dec-2025 19:41:07 UTC] MailService::__construct - initializing
[09-Dec-2025 19:41:07 UTC] MailService::__construct - PHPMailer created
[09-Dec-2025 19:41:07 UTC] ForgotPasswordController::__construct - MailService created
[09-Dec-2025 19:41:07 UTC] Router::execute - controller: ForgotPasswordController, action: sendCode
[09-Dec-2025 19:41:07 UTC] Router::execute - raw input: {
    "email": "phanbinh150504@gmail.com"
}
[09-Dec-2025 19:41:07 UTC] Router::execute - decoded data: {"email":"phanbinh150504@gmail.com"}
[09-Dec-2025 19:41:07 UTC] ForgotPasswordController::sendCode called
[09-Dec-2025 19:41:07 UTC] Data received: {"email":"phanbinh150504@gmail.com"}
[09-Dec-2025 19:41:08 UTC] MailService::initialize - starting
[09-Dec-2025 19:41:08 UTC] MailService::initialize - SMTP config check: host=set, user=set, pass=set
[09-Dec-2025 19:41:08 UTC] MailService::initialize - completed successfully
[10-Dec-2025 03:55:11 UTC] === REQUEST DEBUG ===
[10-Dec-2025 03:55:11 UTC] REQUEST_URI: /backend/api/v1/payments/creat
[10-Dec-2025 03:55:11 UTC] REQUEST_METHOD: POST
[10-Dec-2025 03:55:11 UTC] QUERY_STRING: url=api/v1/payments/creat
[10-Dec-2025 03:55:11 UTC] GET url param: api/v1/payments/creat
[10-Dec-2025 03:55:11 UTC] URI Segments: ["api","v1","payments","creat"]
[10-Dec-2025 03:55:11 UTC] Router constructor - URI segments: ["api","v1","payments","creat"]
[10-Dec-2025 03:55:11 UTC] Router parsed - version: v1, resource: payments, id: creat, method: POST
[10-Dec-2025 03:55:11 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: creat
[10-Dec-2025 03:55:11 UTC] Checking auth route: POST payments
[10-Dec-2025 03:55:11 UTC] Checking auth route with action: POST payments/creat
[10-Dec-2025 03:55:17 UTC] Database connection failed: SQLSTATE[HY000] [2002] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
[10-Dec-2025 03:55:17 UTC] Error loading controller PaymentController: Database connection failed: SQLSTATE[HY000] [2002] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
[10-Dec-2025 03:55:17 UTC] Stack trace: #0 F:\laragon\www\backend\app\models\OrderModel.php(16): Database->__construct()
#1 F:\laragon\www\backend\app\api\controllers\v1\PaymentController.php(21): OrderModel->__construct()
#2 F:\laragon\www\backend\app\core\Router.php(375): PaymentController->__construct()
#3 F:\laragon\www\backend\app\core\Router.php(223): Router->loadController('PaymentControll...')
#4 F:\laragon\www\backend\index.php(103): Router->handleStandardRoute()
#5 {main}
[10-Dec-2025 03:55:21 UTC] === REQUEST DEBUG ===
[10-Dec-2025 03:55:21 UTC] REQUEST_URI: /backend/api/v1/payments/creat
[10-Dec-2025 03:55:21 UTC] REQUEST_METHOD: POST
[10-Dec-2025 03:55:21 UTC] QUERY_STRING: url=api/v1/payments/creat
[10-Dec-2025 03:55:21 UTC] GET url param: api/v1/payments/creat
[10-Dec-2025 03:55:21 UTC] URI Segments: ["api","v1","payments","creat"]
[10-Dec-2025 03:55:21 UTC] Router constructor - URI segments: ["api","v1","payments","creat"]
[10-Dec-2025 03:55:21 UTC] Router parsed - version: v1, resource: payments, id: creat, method: POST
[10-Dec-2025 03:55:21 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: creat
[10-Dec-2025 03:55:21 UTC] Checking auth route: POST payments
[10-Dec-2025 03:55:21 UTC] Checking auth route with action: POST payments/creat
[10-Dec-2025 03:55:30 UTC] Database connection failed: SQLSTATE[HY000] [2002] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
[10-Dec-2025 03:55:30 UTC] UserModel constructor error: Database connection failed: SQLSTATE[HY000] [2002] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
[10-Dec-2025 03:55:30 UTC] Error loading controller PaymentController: Database connection failed: SQLSTATE[HY000] [2002] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
[10-Dec-2025 03:55:30 UTC] Stack trace: #0 F:\laragon\www\backend\app\models\UserModel.php(77): Database->__construct()
#1 F:\laragon\www\backend\app\middleware\AuthMiddleware.php(13): Users->__construct()
#2 F:\laragon\www\backend\app\api\controllers\v1\PaymentController.php(24): AuthMiddleware->__construct()
#3 F:\laragon\www\backend\app\core\Router.php(375): PaymentController->__construct()
#4 F:\laragon\www\backend\app\core\Router.php(223): Router->loadController('PaymentControll...')
#5 F:\laragon\www\backend\index.php(103): Router->handleStandardRoute()
#6 {main}
[10-Dec-2025 04:02:26 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:02:26 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:02:26 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:02:26 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:02:26 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:02:26 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:02:26 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:02:26 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:02:26 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:02:26 UTC] Checking auth route: POST payments
[10-Dec-2025 04:02:26 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:02:26 UTC] Router::buildRouteKey - routeKey: POST payments/create
[10-Dec-2025 04:02:34 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:02:34 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:02:34 UTC] Router::execute - raw input length: 21
[10-Dec-2025 04:02:34 UTC] Router::execute - raw input preview: {
  "order_id": 123
}
[10-Dec-2025 04:02:34 UTC] Router::execute - final data: {"order_id":123}
[10-Dec-2025 04:02:58 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:02:58 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:02:58 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:02:58 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:02:58 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:02:58 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:02:58 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:02:58 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:02:58 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:02:58 UTC] Checking auth route: POST payments
[10-Dec-2025 04:02:58 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:03:09 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:03:09 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:03:09 UTC] Router::execute - raw input length: 21
[10-Dec-2025 04:03:09 UTC] Router::execute - raw input preview: {
  "order_id": 123
}
[10-Dec-2025 04:03:09 UTC] Router::execute - final data: {"order_id":123}
[10-Dec-2025 04:04:37 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:04:37 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:04:37 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:04:37 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:04:37 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:04:37 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:04:37 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:04:37 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:04:37 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:04:37 UTC] Checking auth route: POST payments
[10-Dec-2025 04:04:37 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:04:46 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:04:46 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:04:46 UTC] Router::execute - raw input length: 21
[10-Dec-2025 04:04:46 UTC] Router::execute - raw input preview: {
  "order_id": 123
}
[10-Dec-2025 04:04:46 UTC] Router::execute - final data: {"order_id":123}
[10-Dec-2025 04:05:35 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:05:35 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:05:35 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:05:35 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:05:35 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:05:35 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:05:35 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:05:35 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:05:35 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:05:35 UTC] Checking auth route: POST payments
[10-Dec-2025 04:05:35 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:05:42 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:05:42 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:05:42 UTC] Router::execute - raw input length: 19
[10-Dec-2025 04:05:42 UTC] Router::execute - raw input preview: {
  "order_id": 7
}
[10-Dec-2025 04:05:42 UTC] Router::execute - final data: {"order_id":7}
[10-Dec-2025 04:06:51 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:06:51 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:06:51 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:06:51 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:06:51 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:06:51 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:06:51 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:06:51 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:06:51 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:06:51 UTC] Checking auth route: POST payments
[10-Dec-2025 04:06:51 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:06:59 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:06:59 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:06:59 UTC] Router::execute - raw input length: 19
[10-Dec-2025 04:06:59 UTC] Router::execute - raw input preview: {
  "order_id": 8
}
[10-Dec-2025 04:06:59 UTC] Router::execute - final data: {"order_id":8}
[10-Dec-2025 04:07:15 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:07:15 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:07:15 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:07:15 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:07:15 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:07:15 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:07:15 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:07:15 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:07:15 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:07:15 UTC] Checking auth route: POST payments
[10-Dec-2025 04:07:15 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:07:23 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:07:23 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:07:23 UTC] Router::execute - raw input length: 20
[10-Dec-2025 04:07:23 UTC] Router::execute - raw input preview: {
  "order_id": 12
}
[10-Dec-2025 04:07:23 UTC] Router::execute - final data: {"order_id":12}
[10-Dec-2025 04:11:31 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:11:31 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:11:31 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:11:31 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:11:31 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:11:31 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:11:31 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:11:31 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:11:31 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:11:31 UTC] Checking auth route: POST payments
[10-Dec-2025 04:11:31 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:11:39 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:11:39 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:11:39 UTC] Router::execute - raw input length: 20
[10-Dec-2025 04:11:39 UTC] Router::execute - raw input preview: {
  "order_id": 12
}
[10-Dec-2025 04:11:39 UTC] Router::execute - final data: {"order_id":12}
[10-Dec-2025 04:12:16 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:12:16 UTC] REQUEST_URI: /backend/reviews?page=1&limit=10
[10-Dec-2025 04:12:16 UTC] REQUEST_METHOD: GET
[10-Dec-2025 04:12:16 UTC] QUERY_STRING: url=reviews&page=1&limit=10
[10-Dec-2025 04:12:16 UTC] GET url param: reviews
[10-Dec-2025 04:12:16 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:12:16 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:12:30 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:12:30 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:12:30 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:12:30 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:12:30 UTC] GET url param: reviews
[10-Dec-2025 04:12:30 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:12:30 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:13:37 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:13:37 UTC] REQUEST_URI: /backend/home
[10-Dec-2025 04:13:37 UTC] REQUEST_METHOD: GET
[10-Dec-2025 04:13:37 UTC] QUERY_STRING: url=home
[10-Dec-2025 04:13:37 UTC] GET url param: home
[10-Dec-2025 04:13:37 UTC] URI Segments: ["home"]
[10-Dec-2025 04:13:37 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:13:55 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:13:55 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 04:13:55 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:13:55 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 04:13:55 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 04:13:55 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 04:13:55 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 04:13:55 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 04:13:55 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 04:13:55 UTC] Checking auth route: POST payments
[10-Dec-2025 04:13:55 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 04:14:01 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 04:14:01 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:14:01 UTC] Router::execute - raw input length: 19
[10-Dec-2025 04:14:01 UTC] Router::execute - raw input preview: {
  "order_id": 7
}
[10-Dec-2025 04:14:01 UTC] Router::execute - final data: {"order_id":7}
[10-Dec-2025 04:51:39 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:51:39 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:51:39 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:51:39 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:51:39 UTC] GET url param: reviews
[10-Dec-2025 04:51:39 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:51:39 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:55:18 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:55:18 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:55:18 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:55:18 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:55:18 UTC] GET url param: reviews
[10-Dec-2025 04:55:18 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:55:18 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:55:20 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:55:20 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:55:20 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:55:20 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:55:20 UTC] GET url param: reviews
[10-Dec-2025 04:55:20 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:55:20 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:55:59 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:55:59 UTC] REQUEST_URI: /backend%20/api/v1/reviews
[10-Dec-2025 04:55:59 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:55:59 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:55:59 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:55:59 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:55:59 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:55:59 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:55:59 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:55:59 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:56:02 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:56:02 UTC] Router::execute - Content-Type: 
[10-Dec-2025 04:56:02 UTC] Router::execute - raw input length: 0
[10-Dec-2025 04:56:02 UTC] Router::execute - raw input preview: 
[10-Dec-2025 04:56:02 UTC] Router::execute - final data: null
[10-Dec-2025 04:56:59 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:56:59 UTC] REQUEST_URI: /backend%20/api/v1/reviews
[10-Dec-2025 04:56:59 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:56:59 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:56:59 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:56:59 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:56:59 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:56:59 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:56:59 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:56:59 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:57:02 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:57:02 UTC] Router::execute - Content-Type: text/plain
[10-Dec-2025 04:57:02 UTC] Router::execute - raw input length: 75
[10-Dec-2025 04:57:02 UTC] Router::execute - raw input preview:  "product_id": 1,
  "content": "Sản phẩm rất tốt!",
  "rating": 5
[10-Dec-2025 04:57:02 UTC] Router::execute - final data: {"\"product_id\":_1,\r\n__\"content\":_\"S\u1ea3n_ph\u1ea9m_r\u1ea5t_t\u1ed1t!\",\r\n__\"rating\":_5":""}
[10-Dec-2025 04:57:09 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:57:09 UTC] REQUEST_URI: /backend%20/api/v1/reviews
[10-Dec-2025 04:57:09 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:57:09 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:57:09 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:57:09 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:57:09 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:57:09 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:57:09 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:57:09 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:57:11 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:57:11 UTC] Router::execute - Content-Type: text/plain
[10-Dec-2025 04:57:11 UTC] Router::execute - raw input length: 77
[10-Dec-2025 04:57:11 UTC] Router::execute - raw input preview: { "product_id": 1,
  "content": "Sản phẩm rất tốt!",
  "rating": 5}
[10-Dec-2025 04:57:11 UTC] Router::execute - final data: {"{_\"product_id\":_1,\r\n__\"content\":_\"S\u1ea3n_ph\u1ea9m_r\u1ea5t_t\u1ed1t!\",\r\n__\"rating\":_5}":""}
[10-Dec-2025 04:57:22 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:57:22 UTC] REQUEST_URI: /backend%20/api/v1/reviews
[10-Dec-2025 04:57:22 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:57:22 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:57:22 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:57:22 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:57:22 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:57:22 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:57:22 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:57:22 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:57:25 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:57:25 UTC] Router::execute - Content-Type: text/plain
[10-Dec-2025 04:57:25 UTC] Router::execute - raw input length: 87
[10-Dec-2025 04:57:25 UTC] Router::execute - raw input preview: { 
    "product_id": 1,
  "content": "Sản phẩm rất tốt!",
  "rating": 5
  }
[10-Dec-2025 04:57:25 UTC] Router::execute - final data: {"{_\r\n____\"product_id\":_1,\r\n__\"content\":_\"S\u1ea3n_ph\u1ea9m_r\u1ea5t_t\u1ed1t!\",\r\n__\"rating\":_5\r\n__}":""}
[10-Dec-2025 04:58:18 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:58:18 UTC] REQUEST_URI: /backend%20/api/v1/reviews
[10-Dec-2025 04:58:18 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:58:18 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:58:18 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:58:18 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:58:18 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:58:18 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:58:18 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:58:18 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:58:21 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:58:21 UTC] Router::execute - Content-Type: text/plain
[10-Dec-2025 04:58:21 UTC] Router::execute - raw input length: 91
[10-Dec-2025 04:58:21 UTC] Router::execute - raw input preview: { 
    "product_id": 1,
    "content": "Sản phẩm rất tốt!",
    "rating": 5
  }
[10-Dec-2025 04:58:21 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 04:58:21 UTC] Router::execute - final data: {"product_id":1,"content":"S\u1ea3n ph\u1ea9m r\u1ea5t t\u1ed1t!","rating":5}
[10-Dec-2025 04:58:54 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:58:54 UTC] REQUEST_URI: /backend%20/api/v1/reviews
[10-Dec-2025 04:58:54 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:58:54 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:58:54 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:58:54 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:58:54 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:58:54 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:58:54 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:58:54 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:58:57 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:58:57 UTC] Router::execute - Content-Type: text/plain
[10-Dec-2025 04:58:57 UTC] Router::execute - raw input length: 83
[10-Dec-2025 04:58:57 UTC] Router::execute - raw input preview: { 
    "id": 1,
    "content": "Sản phẩm rất tốt!",
    "rating": 5
  }
[10-Dec-2025 04:58:57 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 04:58:57 UTC] Router::execute - final data: {"id":1,"content":"S\u1ea3n ph\u1ea9m r\u1ea5t t\u1ed1t!","rating":5}
[10-Dec-2025 04:59:10 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:59:10 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:59:10 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:59:10 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:59:10 UTC] GET url param: reviews
[10-Dec-2025 04:59:10 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:59:10 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:59:12 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:59:12 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:59:12 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:59:12 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:59:12 UTC] GET url param: reviews
[10-Dec-2025 04:59:12 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:59:12 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:59:13 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:59:13 UTC] REQUEST_URI: /backend/reviews
[10-Dec-2025 04:59:13 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:59:13 UTC] QUERY_STRING: url=reviews
[10-Dec-2025 04:59:13 UTC] GET url param: reviews
[10-Dec-2025 04:59:13 UTC] URI Segments: ["reviews"]
[10-Dec-2025 04:59:13 UTC] Invalid URI structure - returning 400
[10-Dec-2025 04:59:22 UTC] === REQUEST DEBUG ===
[10-Dec-2025 04:59:22 UTC] REQUEST_URI: /backend/api/v1/reviews
[10-Dec-2025 04:59:22 UTC] REQUEST_METHOD: POST
[10-Dec-2025 04:59:22 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 04:59:22 UTC] GET url param: api/v1/reviews
[10-Dec-2025 04:59:22 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 04:59:22 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 04:59:22 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 04:59:22 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 04:59:22 UTC] Checking auth route: POST reviews
[10-Dec-2025 04:59:25 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 04:59:25 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 04:59:25 UTC] Router::execute - raw input length: 120
[10-Dec-2025 04:59:25 UTC] Router::execute - raw input preview: {
    "product_id": 9,
    "content": "Đồng hồ đẹp, chất lượng tốt, giao hàng nhanh!",
    "rating": 5
}
[10-Dec-2025 04:59:25 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 04:59:25 UTC] Router::execute - final data: {"product_id":9,"content":"\u0110\u1ed3ng h\u1ed3 \u0111\u1eb9p, ch\u1ea5t l\u01b0\u1ee3ng t\u1ed1t, giao h\u00e0ng nhanh!","rating":5}
[10-Dec-2025 05:00:35 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:00:35 UTC] REQUEST_URI: /backend/api/v1/reviews
[10-Dec-2025 05:00:35 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:00:35 UTC] QUERY_STRING: url=api/v1/reviews
[10-Dec-2025 05:00:35 UTC] GET url param: api/v1/reviews
[10-Dec-2025 05:00:35 UTC] URI Segments: ["api","v1","reviews"]
[10-Dec-2025 05:00:35 UTC] Router constructor - URI segments: ["api","v1","reviews"]
[10-Dec-2025 05:00:35 UTC] Router parsed - version: v1, resource: reviews, id: , method: POST
[10-Dec-2025 05:00:35 UTC] Router::handleSpecialRoute - method: POST, resource: reviews, id: 
[10-Dec-2025 05:00:35 UTC] Checking auth route: POST reviews
[10-Dec-2025 05:00:40 UTC] Router::execute - controller: ReviewsController, action: store
[10-Dec-2025 05:00:40 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:00:40 UTC] Router::execute - raw input length: 120
[10-Dec-2025 05:00:40 UTC] Router::execute - raw input preview: {
    "product_id": 9,
    "content": "Đồng hồ đẹp, chất lượng tốt, giao hàng nhanh!",
    "rating": 5
}
[10-Dec-2025 05:00:40 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:00:40 UTC] Router::execute - final data: {"product_id":9,"content":"\u0110\u1ed3ng h\u1ed3 \u0111\u1eb9p, ch\u1ea5t l\u01b0\u1ee3ng t\u1ed1t, giao h\u00e0ng nhanh!","rating":5}
[10-Dec-2025 05:12:53 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:12:53 UTC] REQUEST_URI: /backend/api/v1/forgot-password/send-code
[10-Dec-2025 05:12:53 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:12:53 UTC] QUERY_STRING: url=api/v1/forgot-password/send-code
[10-Dec-2025 05:12:53 UTC] GET url param: api/v1/forgot-password/send-code
[10-Dec-2025 05:12:53 UTC] URI Segments: ["api","v1","forgot-password","send-code"]
[10-Dec-2025 05:12:53 UTC] Router constructor - URI segments: ["api","v1","forgot-password","send-code"]
[10-Dec-2025 05:12:53 UTC] Router parsed - version: v1, resource: forgot-password, id: send-code, method: POST
[10-Dec-2025 05:12:53 UTC] Router::handleSpecialRoute - method: POST, resource: forgot-password, id: send-code
[10-Dec-2025 05:12:53 UTC] Checking auth route: POST forgot-password
[10-Dec-2025 05:12:53 UTC] Checking auth route with action: POST forgot-password/send-code
[10-Dec-2025 05:12:53 UTC] Found route: POST forgot-password/send-code
[10-Dec-2025 05:12:59 UTC] MailService::__construct - initializing
[10-Dec-2025 05:12:59 UTC] MailService::__construct - PHPMailer created
[10-Dec-2025 05:12:59 UTC] Router::execute - controller: ForgotPasswordController, action: sendCode
[10-Dec-2025 05:12:59 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:12:59 UTC] Router::execute - raw input length: 43
[10-Dec-2025 05:12:59 UTC] Router::execute - raw input preview: {
    "email": "phanbinh150504@gmail.com"
}
[10-Dec-2025 05:12:59 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:12:59 UTC] Router::execute - final data: {"email":"phanbinh150504@gmail.com"}
[10-Dec-2025 05:13:13 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:13:13 UTC] REQUEST_URI: /backend/api/v1/forgot-password/send-code
[10-Dec-2025 05:13:13 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:13:13 UTC] QUERY_STRING: url=api/v1/forgot-password/send-code
[10-Dec-2025 05:13:13 UTC] GET url param: api/v1/forgot-password/send-code
[10-Dec-2025 05:13:13 UTC] URI Segments: ["api","v1","forgot-password","send-code"]
[10-Dec-2025 05:13:13 UTC] Router constructor - URI segments: ["api","v1","forgot-password","send-code"]
[10-Dec-2025 05:13:13 UTC] Router parsed - version: v1, resource: forgot-password, id: send-code, method: POST
[10-Dec-2025 05:13:13 UTC] Router::handleSpecialRoute - method: POST, resource: forgot-password, id: send-code
[10-Dec-2025 05:13:13 UTC] Checking auth route: POST forgot-password
[10-Dec-2025 05:13:13 UTC] Checking auth route with action: POST forgot-password/send-code
[10-Dec-2025 05:13:13 UTC] Found route: POST forgot-password/send-code
[10-Dec-2025 05:13:16 UTC] MailService::__construct - initializing
[10-Dec-2025 05:13:16 UTC] MailService::__construct - PHPMailer created
[10-Dec-2025 05:13:16 UTC] Router::execute - controller: ForgotPasswordController, action: sendCode
[10-Dec-2025 05:13:16 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:13:16 UTC] Router::execute - raw input length: 43
[10-Dec-2025 05:13:16 UTC] Router::execute - raw input preview: {
    "email": "phanbinh150504@gmail.com"
}
[10-Dec-2025 05:13:16 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:13:16 UTC] Router::execute - final data: {"email":"phanbinh150504@gmail.com"}
[10-Dec-2025 05:14:58 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:14:58 UTC] REQUEST_URI: /backend/api/v1/forgot-password/send-code
[10-Dec-2025 05:14:58 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:14:58 UTC] QUERY_STRING: url=api/v1/forgot-password/send-code
[10-Dec-2025 05:14:58 UTC] GET url param: api/v1/forgot-password/send-code
[10-Dec-2025 05:14:58 UTC] URI Segments: ["api","v1","forgot-password","send-code"]
[10-Dec-2025 05:14:58 UTC] Router constructor - URI segments: ["api","v1","forgot-password","send-code"]
[10-Dec-2025 05:14:58 UTC] Router parsed - version: v1, resource: forgot-password, id: send-code, method: POST
[10-Dec-2025 05:14:58 UTC] Router::handleSpecialRoute - method: POST, resource: forgot-password, id: send-code
[10-Dec-2025 05:14:58 UTC] Checking auth route: POST forgot-password
[10-Dec-2025 05:14:58 UTC] Checking auth route with action: POST forgot-password/send-code
[10-Dec-2025 05:14:58 UTC] Found route: POST forgot-password/send-code
[10-Dec-2025 05:15:09 UTC] MailService::__construct - initializing
[10-Dec-2025 05:15:09 UTC] MailService::__construct - PHPMailer created
[10-Dec-2025 05:15:09 UTC] Router::execute - controller: ForgotPasswordController, action: sendCode
[10-Dec-2025 05:15:09 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:15:09 UTC] Router::execute - raw input length: 43
[10-Dec-2025 05:15:09 UTC] Router::execute - raw input preview: {
    "email": "phanbinh150504@gmail.com"
}
[10-Dec-2025 05:15:09 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:15:09 UTC] Router::execute - final data: {"email":"phanbinh150504@gmail.com"}
[10-Dec-2025 05:15:14 UTC] MailService::initialize - starting
[10-Dec-2025 05:15:14 UTC] MailService::initialize - SMTP config check: host=set, user=set, pass=set
[10-Dec-2025 05:15:14 UTC] MailService::initialize - completed successfully
[10-Dec-2025 05:16:18 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:16:18 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 05:16:18 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:16:18 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 05:16:18 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 05:16:18 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 05:16:18 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 05:16:18 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 05:16:18 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 05:16:18 UTC] Checking auth route: POST payments
[10-Dec-2025 05:16:18 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 05:16:31 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 05:16:31 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:16:31 UTC] Router::execute - raw input length: 19
[10-Dec-2025 05:16:31 UTC] Router::execute - raw input preview: {
  "order_id": 7
}
[10-Dec-2025 05:16:31 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:16:31 UTC] Router::execute - final data: {"order_id":7}
[10-Dec-2025 05:41:15 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:41:15 UTC] REQUEST_URI: /backend/
[10-Dec-2025 05:41:15 UTC] REQUEST_METHOD: GET
[10-Dec-2025 05:41:15 UTC] QUERY_STRING: 
[10-Dec-2025 05:41:15 UTC] GET url param: N/A
[10-Dec-2025 05:41:15 UTC] Parsed REQUEST_URI: /backend/
[10-Dec-2025 05:41:15 UTC] Final URI: 
[10-Dec-2025 05:41:15 UTC] URI Segments: [""]
[10-Dec-2025 05:41:15 UTC] Invalid URI structure - returning 400
[10-Dec-2025 05:41:27 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:41:27 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 05:41:27 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:41:27 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 05:41:27 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 05:41:27 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 05:41:27 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 05:41:27 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 05:41:27 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 05:41:27 UTC] Checking auth route: POST payments
[10-Dec-2025 05:41:27 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 05:41:33 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 05:41:33 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:41:33 UTC] Router::execute - raw input length: 20
[10-Dec-2025 05:41:33 UTC] Router::execute - raw input preview: {
  "order_id": 21
}
[10-Dec-2025 05:41:33 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:41:33 UTC] Router::execute - final data: {"order_id":21}
[10-Dec-2025 05:42:00 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:42:00 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 05:42:00 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:42:00 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 05:42:00 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 05:42:00 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 05:42:00 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 05:42:00 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 05:42:00 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 05:42:00 UTC] Checking auth route: POST payments
[10-Dec-2025 05:42:00 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 05:42:07 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 05:42:07 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:42:07 UTC] Router::execute - raw input length: 0
[10-Dec-2025 05:42:07 UTC] Router::execute - raw input preview: 
[10-Dec-2025 05:42:07 UTC] Router::execute - final data: null
[10-Dec-2025 05:44:11 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:44:11 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 05:44:11 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:44:11 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 05:44:11 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 05:44:11 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 05:44:11 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 05:44:11 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 05:44:11 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 05:44:11 UTC] Checking auth route: POST payments
[10-Dec-2025 05:44:11 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 05:44:17 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 05:44:17 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:44:17 UTC] Router::execute - raw input length: 20
[10-Dec-2025 05:44:17 UTC] Router::execute - raw input preview: {
  "order_id": 21
}
[10-Dec-2025 05:44:17 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:44:17 UTC] Router::execute - final data: {"order_id":21}
[10-Dec-2025 05:44:17 UTC] PaymentController::create - received data type: array
[10-Dec-2025 05:44:17 UTC] PaymentController::create - received data: {"order_id":21}
[10-Dec-2025 05:44:35 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:44:35 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 05:44:35 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:44:35 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 05:44:35 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 05:44:35 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 05:44:35 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 05:44:35 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 05:44:35 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 05:44:35 UTC] Checking auth route: POST payments
[10-Dec-2025 05:44:35 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 05:44:41 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 05:44:41 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:44:41 UTC] Router::execute - raw input length: 20
[10-Dec-2025 05:44:41 UTC] Router::execute - raw input preview: {
  "order_id": 13
}
[10-Dec-2025 05:44:41 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:44:41 UTC] Router::execute - final data: {"order_id":13}
[10-Dec-2025 05:44:41 UTC] PaymentController::create - received data type: array
[10-Dec-2025 05:44:41 UTC] PaymentController::create - received data: {"order_id":13}
[10-Dec-2025 05:53:13 UTC] === REQUEST DEBUG ===
[10-Dec-2025 05:53:13 UTC] REQUEST_URI: /backend/api/v1/payments/webhook
[10-Dec-2025 05:53:13 UTC] REQUEST_METHOD: POST
[10-Dec-2025 05:53:13 UTC] QUERY_STRING: url=api/v1/payments/webhook
[10-Dec-2025 05:53:13 UTC] GET url param: api/v1/payments/webhook
[10-Dec-2025 05:53:13 UTC] URI Segments: ["api","v1","payments","webhook"]
[10-Dec-2025 05:53:13 UTC] Router constructor - URI segments: ["api","v1","payments","webhook"]
[10-Dec-2025 05:53:13 UTC] Router parsed - version: v1, resource: payments, id: webhook, method: POST
[10-Dec-2025 05:53:13 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: webhook
[10-Dec-2025 05:53:13 UTC] Checking auth route: POST payments
[10-Dec-2025 05:53:13 UTC] Checking auth route with action: POST payments/webhook
[10-Dec-2025 05:53:19 UTC] Router::execute - controller: PaymentController, action: webhook
[10-Dec-2025 05:53:19 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 05:53:19 UTC] Router::execute - raw input length: 235
[10-Dec-2025 05:53:19 UTC] Router::execute - raw input preview: {
  "gateway": "MBBank",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "0903252427",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH21
[10-Dec-2025 05:53:19 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 05:53:19 UTC] Router::execute - final data: {"gateway":"MBBank","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"0903252427","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH21","referenceCode":"REF123"}
[10-Dec-2025 05:53:19 UTC] === WEBHOOK RECEIVED ===
[10-Dec-2025 05:53:19 UTC] Request method: POST
[10-Dec-2025 05:53:19 UTC] Content-Type: application/json
[10-Dec-2025 05:53:19 UTC] Raw webhook data length: 235
[10-Dec-2025 05:53:19 UTC] Raw webhook data: {
  "gateway": "MBBank",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "0903252427",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH21",  
  "referenceCode": "REF123"
}
[10-Dec-2025 05:53:19 UTC] Webhook data decoded: {"gateway":"MBBank","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"0903252427","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH21","referenceCode":"REF123"}
[10-Dec-2025 05:53:19 UTC] Webhook result: {"success":false,"message":"Webhook signature kh\u00f4ng h\u1ee3p l\u1ec7"}
[10-Dec-2025 06:00:16 UTC] === REQUEST DEBUG ===
[10-Dec-2025 06:00:16 UTC] REQUEST_URI: /backend/api/v1/payments/create
[10-Dec-2025 06:00:16 UTC] REQUEST_METHOD: POST
[10-Dec-2025 06:00:16 UTC] QUERY_STRING: url=api/v1/payments/create
[10-Dec-2025 06:00:16 UTC] GET url param: api/v1/payments/create
[10-Dec-2025 06:00:16 UTC] URI Segments: ["api","v1","payments","create"]
[10-Dec-2025 06:00:16 UTC] Router constructor - URI segments: ["api","v1","payments","create"]
[10-Dec-2025 06:00:16 UTC] Router parsed - version: v1, resource: payments, id: create, method: POST
[10-Dec-2025 06:00:16 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: create
[10-Dec-2025 06:00:16 UTC] Checking auth route: POST payments
[10-Dec-2025 06:00:16 UTC] Checking auth route with action: POST payments/create
[10-Dec-2025 06:00:22 UTC] Router::execute - controller: PaymentController, action: create
[10-Dec-2025 06:00:22 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 06:00:22 UTC] Router::execute - raw input length: 20
[10-Dec-2025 06:00:22 UTC] Router::execute - raw input preview: {
  "order_id": 13
}
[10-Dec-2025 06:00:22 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 06:00:22 UTC] Router::execute - final data: {"order_id":13}
[10-Dec-2025 06:03:25 UTC] === REQUEST DEBUG ===
[10-Dec-2025 06:03:25 UTC] REQUEST_URI: /backend/api/v1/payments/webhook
[10-Dec-2025 06:03:25 UTC] REQUEST_METHOD: POST
[10-Dec-2025 06:03:25 UTC] QUERY_STRING: url=api/v1/payments/webhook
[10-Dec-2025 06:03:25 UTC] GET url param: api/v1/payments/webhook
[10-Dec-2025 06:03:25 UTC] URI Segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:03:25 UTC] Router constructor - URI segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:03:25 UTC] Router parsed - version: v1, resource: payments, id: webhook, method: POST
[10-Dec-2025 06:03:25 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: webhook
[10-Dec-2025 06:03:25 UTC] Checking auth route: POST payments
[10-Dec-2025 06:03:25 UTC] Checking auth route with action: POST payments/webhook
[10-Dec-2025 06:03:30 UTC] Router::execute - controller: PaymentController, action: webhook
[10-Dec-2025 06:03:30 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 06:03:30 UTC] Router::execute - raw input length: 233
[10-Dec-2025 06:03:30 UTC] Router::execute - raw input preview: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH13",
[10-Dec-2025 06:03:30 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 06:03:30 UTC] Router::execute - final data: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:03:30 UTC] === WEBHOOK RECEIVED ===
[10-Dec-2025 06:03:30 UTC] Request method: POST
[10-Dec-2025 06:03:30 UTC] Content-Type: application/json
[10-Dec-2025 06:03:30 UTC] All headers: {"Content-Length":"233","Connection":"close","Accept-Encoding":"gzip, deflate, br","Host":"localhost","Postman-Token":"d2046668-18e0-4118-a66c-d1d215cd1d7f","Accept":"*\/*","User-Agent":"PostmanRuntime\/7.49.1","Content-Type":"application\/json"}
[10-Dec-2025 06:03:30 UTC] Header SERVER_SIGNATURE: 
[10-Dec-2025 06:03:30 UTC] Header HTTP_CONNECTION: close
[10-Dec-2025 06:03:30 UTC] Header HTTP_ACCEPT_ENCODING: gzip, deflate, br
[10-Dec-2025 06:03:30 UTC] Header HTTP_HOST: localhost
[10-Dec-2025 06:03:30 UTC] Header HTTP_POSTMAN_TOKEN: d2046668-18e0-4118-a66c-d1d215cd1d7f
[10-Dec-2025 06:03:30 UTC] Header HTTP_ACCEPT: */*
[10-Dec-2025 06:03:30 UTC] Header HTTP_USER_AGENT: PostmanRuntime/7.49.1
[10-Dec-2025 06:03:30 UTC] Raw webhook data length: 233
[10-Dec-2025 06:03:30 UTC] Raw webhook data: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH13",  
  "referenceCode": "REF123"
}
[10-Dec-2025 06:03:30 UTC] Webhook data decoded: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:03:30 UTC] SePayService::handleWebhook - Webhook secret configured: Yes
[10-Dec-2025 06:03:30 UTC] SePayService::handleWebhook - Signature received: None
[10-Dec-2025 06:03:30 UTC] SePayService::handleWebhook - WARNING: Webhook secret configured but no signature received. Processing anyway for testing.
[10-Dec-2025 06:03:30 UTC] Router execute throwable: Cannot use object of type stdClass as array
[10-Dec-2025 06:03:30 UTC] Stack trace: #0 F:\laragon\www\backend\app\api\controllers\v1\PaymentController.php(169): SePayService->handleWebhook(Object(stdClass))
#1 F:\laragon\www\backend\app\core\Router.php(345): PaymentController->webhook(Array)
#2 F:\laragon\www\backend\app\core\Router.php(282): Router->execute(Object(PaymentController), 'webhook', NULL)
#3 F:\laragon\www\backend\app\core\Router.php(211): Router->call(Array, NULL)
#4 F:\laragon\www\backend\index.php(99): Router->handleSpecialRoute()
#5 {main}
[10-Dec-2025 06:05:03 UTC] === REQUEST DEBUG ===
[10-Dec-2025 06:05:03 UTC] REQUEST_URI: /backend/api/v1/payments/webhook
[10-Dec-2025 06:05:03 UTC] REQUEST_METHOD: POST
[10-Dec-2025 06:05:03 UTC] QUERY_STRING: url=api/v1/payments/webhook
[10-Dec-2025 06:05:03 UTC] GET url param: api/v1/payments/webhook
[10-Dec-2025 06:05:03 UTC] URI Segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:05:03 UTC] Router constructor - URI segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:05:03 UTC] Router parsed - version: v1, resource: payments, id: webhook, method: POST
[10-Dec-2025 06:05:03 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: webhook
[10-Dec-2025 06:05:03 UTC] Checking auth route: POST payments
[10-Dec-2025 06:05:03 UTC] Checking auth route with action: POST payments/webhook
[10-Dec-2025 06:05:08 UTC] Router::execute - controller: PaymentController, action: webhook
[10-Dec-2025 06:05:08 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 06:05:08 UTC] Router::execute - raw input length: 232
[10-Dec-2025 06:05:08 UTC] Router::execute - raw input preview: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH13",
[10-Dec-2025 06:05:08 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 06:05:08 UTC] Router::execute - final data: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:05:08 UTC] === WEBHOOK RECEIVED ===
[10-Dec-2025 06:05:08 UTC] Request method: POST
[10-Dec-2025 06:05:08 UTC] Content-Type: application/json
[10-Dec-2025 06:05:08 UTC] All headers: {"Content-Length":"232","Connection":"close","Accept-Encoding":"gzip, deflate, br","Host":"localhost","Postman-Token":"3a200a3c-fdce-4783-95be-ae562e04fcb7","Accept":"*\/*","User-Agent":"PostmanRuntime\/7.49.1","Content-Type":"application\/json"}
[10-Dec-2025 06:05:08 UTC] Header SERVER_SIGNATURE: 
[10-Dec-2025 06:05:08 UTC] Header HTTP_CONNECTION: close
[10-Dec-2025 06:05:08 UTC] Header HTTP_ACCEPT_ENCODING: gzip, deflate, br
[10-Dec-2025 06:05:08 UTC] Header HTTP_HOST: localhost
[10-Dec-2025 06:05:08 UTC] Header HTTP_POSTMAN_TOKEN: 3a200a3c-fdce-4783-95be-ae562e04fcb7
[10-Dec-2025 06:05:08 UTC] Header HTTP_ACCEPT: */*
[10-Dec-2025 06:05:08 UTC] Header HTTP_USER_AGENT: PostmanRuntime/7.49.1
[10-Dec-2025 06:05:08 UTC] Raw webhook data length: 232
[10-Dec-2025 06:05:08 UTC] Raw webhook data: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH13",
  "referenceCode": "REF123"
}
[10-Dec-2025 06:05:08 UTC] Webhook data decoded: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:05:08 UTC] SePayService::handleWebhook - Webhook secret configured: Yes
[10-Dec-2025 06:05:08 UTC] SePayService::handleWebhook - Signature received: None
[10-Dec-2025 06:05:08 UTC] SePayService::handleWebhook - WARNING: Webhook secret configured but no signature received. Processing anyway for testing.
[10-Dec-2025 06:05:08 UTC] Webhook result: {"success":true,"order_id":13,"status":"paid","amount":10000,"transaction_data":{"gateway":"BIDV","transaction_date":"2025-12-10T10:00:00Z","account_number":"8836563558","sub_account":null,"amount_in":10000,"amount_out":0,"accumulated":null,"code":"TEST123","transaction_content":"DH13","reference_number":"REF123","body":null},"raw_data":{"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}}
[10-Dec-2025 06:05:08 UTC] Transaction data to save: {"gateway":"BIDV","transaction_date":"2025-12-10T10:00:00Z","account_number":"8836563558","sub_account":null,"amount_in":10000,"amount_out":0,"accumulated":null,"code":"TEST123","transaction_content":"DH13","reference_number":"REF123","body":null}
[10-Dec-2025 06:05:08 UTC] Transaction save result: {"success":false,"message":"L\u1ed7i khi l\u01b0u giao d\u1ecbch: SQLSTATE[22007]: Invalid datetime format: 1292 Incorrect datetime value: '2025-12-10T10:00:00Z' for column 'transaction_date' at row 1"}
[10-Dec-2025 06:05:54 UTC] === REQUEST DEBUG ===
[10-Dec-2025 06:05:54 UTC] REQUEST_URI: /backend/api/v1/payments/webhook
[10-Dec-2025 06:05:54 UTC] REQUEST_METHOD: POST
[10-Dec-2025 06:05:54 UTC] QUERY_STRING: url=api/v1/payments/webhook
[10-Dec-2025 06:05:54 UTC] GET url param: api/v1/payments/webhook
[10-Dec-2025 06:05:54 UTC] URI Segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:05:54 UTC] Router constructor - URI segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:05:54 UTC] Router parsed - version: v1, resource: payments, id: webhook, method: POST
[10-Dec-2025 06:05:54 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: webhook
[10-Dec-2025 06:05:54 UTC] Checking auth route: POST payments
[10-Dec-2025 06:05:54 UTC] Checking auth route with action: POST payments/webhook
[10-Dec-2025 06:05:59 UTC] Router::execute - controller: PaymentController, action: webhook
[10-Dec-2025 06:05:59 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 06:05:59 UTC] Router::execute - raw input length: 232
[10-Dec-2025 06:05:59 UTC] Router::execute - raw input preview: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH13",
[10-Dec-2025 06:05:59 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 06:05:59 UTC] Router::execute - final data: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:05:59 UTC] === WEBHOOK RECEIVED ===
[10-Dec-2025 06:05:59 UTC] Request method: POST
[10-Dec-2025 06:05:59 UTC] Content-Type: application/json
[10-Dec-2025 06:05:59 UTC] All headers: {"Content-Length":"232","Connection":"close","Accept-Encoding":"gzip, deflate, br","Host":"localhost","Postman-Token":"573730c3-f78d-4fd3-86c7-7c913d29b0f2","Accept":"*\/*","User-Agent":"PostmanRuntime\/7.49.1","Content-Type":"application\/json"}
[10-Dec-2025 06:05:59 UTC] Header SERVER_SIGNATURE: 
[10-Dec-2025 06:05:59 UTC] Header HTTP_CONNECTION: close
[10-Dec-2025 06:05:59 UTC] Header HTTP_ACCEPT_ENCODING: gzip, deflate, br
[10-Dec-2025 06:05:59 UTC] Header HTTP_HOST: localhost
[10-Dec-2025 06:05:59 UTC] Header HTTP_POSTMAN_TOKEN: 573730c3-f78d-4fd3-86c7-7c913d29b0f2
[10-Dec-2025 06:05:59 UTC] Header HTTP_ACCEPT: */*
[10-Dec-2025 06:05:59 UTC] Header HTTP_USER_AGENT: PostmanRuntime/7.49.1
[10-Dec-2025 06:05:59 UTC] Raw webhook data length: 232
[10-Dec-2025 06:05:59 UTC] Raw webhook data: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 10000,
  "code": "TEST123",
  "content": "DH13",
  "referenceCode": "REF123"
}
[10-Dec-2025 06:05:59 UTC] Webhook data decoded: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:05:59 UTC] SePayService::handleWebhook - Webhook secret configured: Yes
[10-Dec-2025 06:05:59 UTC] SePayService::handleWebhook - Signature received: None
[10-Dec-2025 06:05:59 UTC] SePayService::handleWebhook - WARNING: Webhook secret configured but no signature received. Processing anyway for testing.
[10-Dec-2025 06:05:59 UTC] Webhook result: {"success":true,"order_id":13,"status":"paid","amount":10000,"transaction_data":{"gateway":"BIDV","transaction_date":"2025-12-10 10:00:00","account_number":"8836563558","sub_account":null,"amount_in":10000,"amount_out":0,"accumulated":null,"code":"TEST123","transaction_content":"DH13","reference_number":"REF123","body":null},"raw_data":{"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":10000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}}
[10-Dec-2025 06:05:59 UTC] Transaction data to save: {"gateway":"BIDV","transaction_date":"2025-12-10 10:00:00","account_number":"8836563558","sub_account":null,"amount_in":10000,"amount_out":0,"accumulated":null,"code":"TEST123","transaction_content":"DH13","reference_number":"REF123","body":null}
[10-Dec-2025 06:05:59 UTC] Transaction save result: {"success":true,"transaction_id":"1"}
[10-Dec-2025 06:06:41 UTC] === REQUEST DEBUG ===
[10-Dec-2025 06:06:41 UTC] REQUEST_URI: /backend/api/v1/payments/webhook
[10-Dec-2025 06:06:41 UTC] REQUEST_METHOD: POST
[10-Dec-2025 06:06:41 UTC] QUERY_STRING: url=api/v1/payments/webhook
[10-Dec-2025 06:06:41 UTC] GET url param: api/v1/payments/webhook
[10-Dec-2025 06:06:41 UTC] URI Segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:06:41 UTC] Router constructor - URI segments: ["api","v1","payments","webhook"]
[10-Dec-2025 06:06:41 UTC] Router parsed - version: v1, resource: payments, id: webhook, method: POST
[10-Dec-2025 06:06:41 UTC] Router::handleSpecialRoute - method: POST, resource: payments, id: webhook
[10-Dec-2025 06:06:41 UTC] Checking auth route: POST payments
[10-Dec-2025 06:06:41 UTC] Checking auth route with action: POST payments/webhook
[10-Dec-2025 06:06:47 UTC] Router::execute - controller: PaymentController, action: webhook
[10-Dec-2025 06:06:47 UTC] Router::execute - Content-Type: application/json
[10-Dec-2025 06:06:47 UTC] Router::execute - raw input length: 232
[10-Dec-2025 06:06:47 UTC] Router::execute - raw input preview: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 31000,
  "code": "TEST123",
  "content": "DH13",
[10-Dec-2025 06:06:47 UTC] Router::execute - Successfully decoded JSON
[10-Dec-2025 06:06:47 UTC] Router::execute - final data: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":31000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:06:47 UTC] === WEBHOOK RECEIVED ===
[10-Dec-2025 06:06:47 UTC] Request method: POST
[10-Dec-2025 06:06:47 UTC] Content-Type: application/json
[10-Dec-2025 06:06:47 UTC] All headers: {"Content-Length":"232","Connection":"close","Accept-Encoding":"gzip, deflate, br","Host":"localhost","Postman-Token":"5e63e016-6fd6-4cc2-85c9-9e4f0abf4b10","Accept":"*\/*","User-Agent":"PostmanRuntime\/7.49.1","Content-Type":"application\/json"}
[10-Dec-2025 06:06:47 UTC] Header SERVER_SIGNATURE: 
[10-Dec-2025 06:06:47 UTC] Header HTTP_CONNECTION: close
[10-Dec-2025 06:06:47 UTC] Header HTTP_ACCEPT_ENCODING: gzip, deflate, br
[10-Dec-2025 06:06:47 UTC] Header HTTP_HOST: localhost
[10-Dec-2025 06:06:47 UTC] Header HTTP_POSTMAN_TOKEN: 5e63e016-6fd6-4cc2-85c9-9e4f0abf4b10
[10-Dec-2025 06:06:47 UTC] Header HTTP_ACCEPT: */*
[10-Dec-2025 06:06:47 UTC] Header HTTP_USER_AGENT: PostmanRuntime/7.49.1
[10-Dec-2025 06:06:47 UTC] Raw webhook data length: 232
[10-Dec-2025 06:06:47 UTC] Raw webhook data: {
  "gateway": "BIDV",
  "transactionDate": "2025-12-10T10:00:00Z",
  "accountNumber": "8836563558",
  "transferType": "in",
  "transferAmount": 31000,
  "code": "TEST123",
  "content": "DH13",
  "referenceCode": "REF123"
}
[10-Dec-2025 06:06:47 UTC] Webhook data decoded: {"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":31000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}
[10-Dec-2025 06:06:47 UTC] SePayService::handleWebhook - Webhook secret configured: Yes
[10-Dec-2025 06:06:47 UTC] SePayService::handleWebhook - Signature received: None
[10-Dec-2025 06:06:47 UTC] SePayService::handleWebhook - WARNING: Webhook secret configured but no signature received. Processing anyway for testing.
[10-Dec-2025 06:06:47 UTC] Webhook result: {"success":true,"order_id":13,"status":"paid","amount":31000,"transaction_data":{"gateway":"BIDV","transaction_date":"2025-12-10 10:00:00","account_number":"8836563558","sub_account":null,"amount_in":31000,"amount_out":0,"accumulated":null,"code":"TEST123","transaction_content":"DH13","reference_number":"REF123","body":null},"raw_data":{"gateway":"BIDV","transactionDate":"2025-12-10T10:00:00Z","accountNumber":"8836563558","transferType":"in","transferAmount":31000,"code":"TEST123","content":"DH13","referenceCode":"REF123"}}
[10-Dec-2025 06:06:47 UTC] Transaction data to save: {"gateway":"BIDV","transaction_date":"2025-12-10 10:00:00","account_number":"8836563558","sub_account":null,"amount_in":31000,"amount_out":0,"accumulated":null,"code":"TEST123","transaction_content":"DH13","reference_number":"REF123","body":null}
[10-Dec-2025 06:06:47 UTC] Transaction save result: {"success":true,"transaction_id":"2"}
